{% extends 'layouts/base.html' %}
{% import 'macros/form_macros.html' as f %}

{% block content %}
{% set flashes = {
    'success': get_flashed_messages(category_filter=['form-success'])
  } %}

<div style="width: 70%; margin: auto;">
    <style>
        .paper {
            background-color: #f7f7f7;
            margin-top: 10px;
            padding: 30px;
            border-radius: 5px;
        }

        .theme-primary {
            color: #47688c;
        }

        .tag {
            display: inline-block;
            background-color: #c5cfd9;
            color: white;
            border-radius: 5px;
            margin: 2px;
            padding: 0px 15px;
            margin-right: 5px;
        }
    </style>
    <div class="ui grid" style="margin-top: 50px;">
        <div class="four wide column">
            <div class="ui stackable grid container">
                <div class = "ui compact">
                    {{ f.begin_form(results_csv_form, flashes) }}
                    {{ f.render_form(results_csv_form) }}
                    {{ f.end_form(results_csv_form) }}
                </div>
                <br>
                <div class = "ui compact">
                    {{ f.begin_form(high_to_low_form, flashes) }}
                    {{ f.render_form(high_to_low_form) }}
                    {{ f.end_form(high_to_low_form) }}
                </div>
            </div>

            <div style="margin-top: 50px;">
                <div style="margin-top: 20px;">
                    <label style="display: block;">DEPARTMENT</label>
                    <select class="ui selection dropdown">
                        <option value="">ALL DEPARTMENTS</option>
                        <option value="1">Option A</option>
                        <option value="0">Option B</option>
                    </select>
                </div>
                <div style="margin-top: 20px;">
                    <label style="display: block;">CONTACT TYPE</label>
                    <select class="ui selection dropdown">
                        <option value="">ALL SERVICES</option>
                        <option value="1">Option A</option>
                        <option value="0">Option B</option>
                    </select>
                </div>
                <div style="margin-top: 20px;">
                    <label style="display: block;">VENDOR NAME</label>
                    <div class="ui input">
                        <input type="text" placeholder="Search..." style="width: 195px;">
                    </div>
                </div>
                <div style="margin-top: 20px;">
                    <label style="display: block;">KEYWORD</label>
                    <div class="ui input">
                        <input type="text" placeholder="Search..." style="width: 195px;">
                    </div>
                </div>
                <div style="margin-top: 20px;">
                    <label style="display: block;">CONTRACT NUMBER</label>
                    <div class="ui input">
                        <input type="text" placeholder="Search..." style="width: 195px;">
                    </div>
                </div>
            </div>

        </div>

        <div class="twelve wide column">
            <div>
                <h2>
                    Results
                </h2>
            </div>
            {% for entry in filtered %}
            <div class="paper">
                <div class="ui grid">
                    <div class="eight wide column">
                        <h3 class="theme-primary" style="line-height: 20px; margin-top: 5px;">{{ entry.vendor, entry.original_contract_id }}</h3>
                        <p><i>{{ entry.contract_structure_type }}</i></p>
                    </div>
                    <div class="eight wide column">
                        <div style="line-height: 20px; ">
                            <div class="tag">
                                TYPE</div>
                            <b>PROFESSIONAL
                                SERVICES</b>
                        </div>
                        <div style=" line-height: 20px;">
                            <div class="tag">
                                DEPT</div><b>{{ entry.department_name }}</b>
                        </div>
                    </div>
                    <div class="eight wide column">
                        <p><b>Contact Amount:</b> {{ entry.amt }} </p>
                        <p><b>Total Payments:</b> {{ entry.tot_payments }} </p>
                    </div>
                    <div class="eight wide column">
                        <p><b>Days Remaining:</b> {{ entry.days_remaining }} </p>
                        <p><b>Contract Term:</b> {{ entry.start_dt.strftime("%m-%d-%Y") }} to {{ entry.end_dt.strftime("%m-%d-%Y") }} </p>
                    </div>
                </div>
                <br>
                <p><b>Description:</b> {{ entry.short_desc }} </p>
            </div>
            {% endfor %}
        </div>

    </div>
</div>
</div>
{% endblock %}
