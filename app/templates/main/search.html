{% extends 'layouts/base.html' %}

{% block content %}
<!-- html for search page -->
<!-- @dev: Robin -->
<div style="width: 70%; margin: auto;">
    <style>
        .paper {
            background-color: #f7f7f7;
            margin-top: 10px;
            padding: 40px;
            border-radius: 6px;
            padding-top: -10px;
        }
        
        .paper-mini {
            background-color: #f7f7f7;
            margin-top: 5px;
            padding: 10px;
            border-radius: 5px;
            width: 80%;
        }

        .button-mini {
            border-radius: 15px;
            size: 5px;
        }

        .theme-primary {
            color: #0f4d90;
            font-size: 20px;
            margin-top: 10px;
            font-family: Avenir;
        }

        .theme-secondary {
            color: #333333;
            font-size: 16px;
            line-height: 1.4;
            font-family: Avenir;
            font-weight: 450;
        }

        .view-results-style {
            padding-top: 40px;
            float: right;
        }

        .tag {
            display: inline-block;
            background-color: #c5cfd9;
            color: white;
            border-radius: 5px;
            margin: 2px;
            padding: 0px 15px;
            margin-right: 5px;
        }
    </style>

    <div class="ui grid" style="margin-top: 50px;">
        <div class="four wide column">
            <div>
                <div>
                    <label style="display: block; margin-bottom: 10px;">DEPARTMENT</label>
                    <select class="ui selection dropdown search">
                        <option value="">ALL DEPARTMENTS</option>
                        <option value="0">ALL DEPARTMENTS</option>
                        <option value="1">Option A</option>
                        <option value="2">Option B</option>
                    </select>
                </div>
                <div style="margin-top: 25px;">
                    <label style="display: block; margin-bottom: 10px;">CONTACT TYPE</label>
                    <select class="ui selection dropdown search">
                        <option value="">ALL SERVICES</option>
                        <option value="0">ALL SERVICES</option>
                        <option value="1">Option A</option>
                        <option value="2">Option B</option>
                    </select>
                </div>
                <div style="margin-top: 25px;">
                    <label style="display: block; margin-bottom: 10px;">VENDOR NAME</label>
                    <div class="ui input">
                        <input type="text" placeholder="Search..." style="width: 100%">
                    </div>
                </div>
                <div style="margin-top: 25px;">
                    <label style="display: block; margin-bottom: 10px;">KEYWORD</label>
                    <div class="ui input">
                        <input type="text" placeholder="Search..." style="width: 100%;">
                    </div>
                </div>
                <div style="margin-top: 25px;">
                    <label style="display: block; margin-bottom: 10px;">CONTRACT NUMBER</label>
                    <div class="ui input">
                        <input type="text" placeholder="Search..." style="width: 100%;">
                    </div>
                </div>
                <div style="margin-top: 40px;">
                    <label style="display: block; margin-bottom: 10px;">CONTRACT APPROVAL DATE</label>
                    <div class="paper-mini" style="width: 73%">
                        <label style="display: block; margin-bottom: 10px;">FROM</label>
                        <div class="ui input">
                            <input type="text" placeholder="MM-DD-YYYY" style="width: 100%;">
                        </div>

                        <label style="display: block; margin-top: 10px; margin-bottom: 10px;">TO</label>
                        <div class="ui input">
                            <input type="text" placeholder="MM-DD-YYYY" style="width: 100%;">
                        </div>
                    </div>
                </div>
                <div style="margin-top: 20px;">
                    <label style="display: block; margin-top: 10px; margin-bottom: 10px;">SEARCH BY AMOUNT</label>
                    <div class="two wide column"> 
                        <div class="ui checkbox" style="width: 50%;">
                            <input type="checkbox" style="width: 50%;">
                            <label>CONTRACT</label>
                        </div>
                        <div class="ui checkbox">
                            <input type="checkbox" style="width: 50%;">
                            <label>PAID</label>
                        </div>
                    </div>
                    
                    <!-- Semanitic UI does not support sliders: need to make a dynamic slider later-->
                    <label style="display: block; margin-top: 10px; font-size: 10px">MINIMUM</label>
                    <div class="three wide column">
                        <div class="paper-mini"> 
                            <div class="ui input">
                                <input type="text" placeholder="$XXX,XXX" style="width: 100%;">
                            </div>
                        </div>
                    </div>
                    <label style="display: block; margin-top: 10px; font-size: 10px">MAXIMUM</label>
                    <div class="three wide column">
                        <div class="paper-mini"> 
                            <div class="ui input">
                                <input type="text" placeholder="$XXX,XXX" style="width: 100%;">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <button id="viewButton" class="ui primary fluid button" style="margin-top: 7%; width: 72%; background-color:#0f4d90">
                        View Contract
                    </button>
                    <!-- Upon clicking "View Contract",
                    Displays a number of contracts depending on result of dropdown
                    Or Displays Instructions if default is selected.
                    Also shows the number of results currently displayed on that page -->
                    <script>
                        document.getElementById("viewButton").onclick = function () {
                            var numResults = parseInt($("#resultsDropdown :selected").val());
                            var instructionsContainer = document.getElementById("instructionsContainer");
                            var resultsContainer = document.getElementById('resultsContainer');
                            var displaysContainer = document.getElementById('displaysContainer');
                            // Clears instructionsContainer, resultsContainer, and displaysContainer
                            while(instructionsContainer.firstChild){
                                instructionsContainer.removeChild(instructionsContainer.firstChild);
                            }
                            while(resultsContainer.firstChild){
                                resultsContainer.removeChild(resultsContainer.firstChild);
                            }
                            while(displaysContainer.firstChild){
                                displaysContainer.removeChild(displaysContainer.firstChild);
                            }
                            var html = ''
                            if (numResults > 0) { // Populate resultsContainer and displaysContainer, depending on result of dropdown
                                html += '<div><h2>Contract Results</h2></div>'
                                for(var i = 1; i <= numResults; i++){  
                                    html += 
                                    '<div class="paper">'
                                    +    '<div class="ui grid">'
                                    +        '<div class="eight wide column">'
                                    +            '<h3 class="theme-primary" style="line-height: 10px; margin-top: 5px;">'
                                    +               'Vehicle Service #'+ i 
                                    +            '</h3>'
                                    +            '<p><i>FLEET MANAGEMENT SERVICES</i></p>'
                                    +        '</div>'
                                    +        '<div class="eight wide column">'
                                    +            '<div style="line-height: 20px; ">'
                                    +                '<div class="tag">'
                                    +                    'TYPE</div>'
                                    +                '<b>PROFESSIONAL'
                                    +                    'SERVICES</b>'
                                    +            '</div>'
                                    +            '<div style=" line-height: 20px;">'
                                    +                '<div class="tag">'
                                    +                    'DEPT</div><b>MANAGEMENT & BUDGET</b>'
                                    +            '</div>'
                                    +        '</div>'
                                    +        '<div class="eight wide column">'
                                    +            '<p><b>Current contact amount:</b> $XXXXX</p>'
                                    +            '<p><b>Contract:</b> $XXXXX</p>'
                                    +        '</div>'
                                    +        '<div class="eight wide column">'
                                    +            '<p><b>Original contact amount:</b> $XXXXX</p>'
                                    +            '<p><b>Contract Term:</b> $XXXXX</p>'
                                    +        '</div>'
                                    +    '</div>'
                                    +    '<button class="ui primary button" style="margin-top: 20px;">'
                                    +        'View Contract'
                                    +    '</button>'
                                    +'</div>'
                                }
                                resultsContainer.innerHTML = html
                                displaysContainer.innerHTML = 'VIEW RESULTS: 1 -' + numResults + ' OF 100'
                            }
                            else { // Populates instructionsContainer and displaysContainer if default is selected
                                html += 
                                '<div id="instructionsContainer">'
                                +    '<div>'
                                +        '<h2>'
                                +            'Instructions'
                                +        '</h2>'
                                +    '</div>'
                                +    '<div class="paper">'
                                +        '<div class="ui grid">'
                                +            '<h3 class="theme-primary" style="margin-top: 10px;">'
                                +                'Searching'
                                +            '</h3>'
                                +            '<p class="theme-secondary">'
                                +                'Search here for city contracts. You can filter by department, contract type, '
                                +                'approval date, or restrict to a contract dollar amount range. You can also search '
                                +                'by specific vendor names or keywords.'
                                +            '</p>'
                                +            '<h3 class="theme-primary">'
                                +                'Search Criteria'
                                +            '</h3>'
                                +            '<p class="theme-secondary">'
                                +                'Contract Amount can be selected based on a range from the minimum to maximum.'
                                +               'Use the sliders to select the maximum or minimum amounts.'
                                +                '<br><br>'
                                +                'Contract Approval Date can be selected based on a range using the two date widgets to the left.'
                                +            '</p>'
                                +            '<h3 class="theme-primary">'
                                +                'Search Results'
                                +            '</h3>'
                                +            '<p class="theme-secondary">'
                                +                'Since the number of results might be quite large, contracts are presented one page at a time.'
                                +                '<br><br>'
                                +                'You can set the page size from 10-100, and also sort by most of these criteria '
                                +                '(click on the arrow to the right to change the sort direction).'
                                +            '</p>'
                                +        '</div>'
                                +    '</div>'
                                +'</div>'
                                instructionsContainer.innerHTML = html
                                displaysContainer.innerHTML = 'VIEW RESULTS: 0 OF 100'
                            }
                        };
                    </script>
                </div>
            </div>
        </div>

        <div class="twelve wide column", style="margin-top: 5%">
            <div id="resultsContainer"></div>
            <div id="instructionsContainer">
                <h2 style="font-family: Avenir">
                    Instructions
                </h2>
                <div class="paper">
                    <div class="ui grid">
                        <h3 class="theme-primary" style="margin-top: 10px">
                            Searching
                        </h3>
                        <p class="theme-secondary">
                            Search here for city contracts. You can filter by department, contract type, 
                            approval date, or restrict to a contract dollar amount range. You can also search 
                            by specific vendor names or keywords.
                        </p>

                        <h3 class="theme-primary">
                            Search Criteria
                        </h3>
                        <p class="theme-secondary">
                            Contract Amount can be selected based on a range from the minimum to maximum.
                            Use the sliders to select the maximum or minimum amounts.
                            <br></br>
                            Contract Approval Date can be selected based on a range using the two date widgets to the left.
                        </p>

                        <h3 class="theme-primary">
                            Search Results
                        </h3>
                        <p class="theme-secondary" style="padding-bottom: 25px">
                            Since the number of results might be quite large, contracts are presented one page at a time.
                            <br></br>
                            You can set the page size from 10-100, and also sort by most of these criteria 
                            (click on the arrow to the right to change the sort direction).
                        </p>
                    </div>
                </div>
            </div>
            <div class="view-results-style">
                <label style="display: block; padding-bottom: 5px;" id="displaysContainer">
                    VIEW RESULTS: 0 OF 100
                </label>
                <select class="ui selection dropdown" id="resultsDropdown">
                    <option value="0">RESULTS PER PAGE</option>
                    <option value="5">5 PER PAGE</option>
                    <option value="10">10 PER PAGE</option>
                    <option value="20">20 PER PAGE</option>
                    <option value="50">50 PER PAGE</option>
                    <option value="100">100 PER PAGE</option>
                </select>
            </div>
        </div>

    </div>
</div>
</div>
{% endblock %}