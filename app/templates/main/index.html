{% extends 'layouts/base.html' %}
{% import 'macros/form_macros.html' as f %}

{% block content %}
    {% set flashes = {
      'success': get_flashed_messages(category_filter=['form-success'])
    } %}

    <!-- <div class="ui centered grid">
        <div class="sixteen wide column" id="landing">
          <div class="ui text container">
            <h1 class="ui header">City of Philadelphia’s  government contracts,
              campaign finance reports, and lobbyists.</h1>
            <p>
              Search Open Book Philadelphia for City contracts, campaign donations and expenditures of 
              candidates for a City office, and lobbyists that do business with the City of Philadelphia.
            </p>
          </div>
        </div>
        <div class="row" id="row_padding">
        <div class="two wide column">
          <div class="ui button">CITY CONTRACTS</div>
          <p>
            Search contracts for all city departments.
          </p>
          <p>
            <a href="https://google.com" id="custom_link">
              Find City Contracts →
            </a>
          </p>
        </div>
        <div class="two wide column">
          <div class="ui button">CAMPAIGN FINANCE</div>
          <p>
            Search for campaign contributions and expenditures of candidates for Mayor, 
            Controller and City Council.
          </p>
          <p>
            <a href="https://google.com" id="custom_link">
              Search Campaign Finance →
            </a>
          </p>
        </div>
        <div class="two wide column">
          <div class="ui button">LOBBYISTS</div>
          <p>
            See those who are registered as lobbyists with the City of Pittsburgh.
          </p>
          <p>
            <a href="https://google.com" id="custom_link">
              Find Lobbyists →
            </a>
          </p>
        </div>
      </div>
      </div> -->

      {% macro dashboard_option(title, endpoint, description=None, icon=None) %}
      <a class="column" href="{{ url_for(endpoint) }}">
        <div class="ui padded segment">
            <h3 class="ui header">
                {% if icon is not none %}
                    <i class="{{ icon }}"></i>
                {% endif %}
                <div class="content">
                    {{ title }}
                    {% if description is not none %}
                        <div class="sub header">
                            {{ description }}
                        </div>
                    {% endif %}
                </div>
            </h3>
        </div>
      </a>
      {% endmacro %} 

      <div class="ui centered grid">

          <!-- text blurb -->
          <div class="row">
            <div class="text container">
              <h1 class="ui header">City of Philadelphia’s  government contracts,
                campaign finance reports, and lobbyists.</h1>
              <p>
                Search Open Book Philadelphia for City contracts, campaign donations and expenditures of 
                candidates for a City office, and lobbyists that do business with the City of Philadelphia.
              </p>
            </div>
          </div>

          <!-- buttons -->
          <!-- <div class="row"> -->
            <div class="three wide column">
              <button class="ui button">CITY CONTRACTS</button>
              <p>
                Search contracts for all city departments.
              </p>
              <p>
                <a href="https://google.com" id="custom_link">
                  Find City Contracts →
                </a>
              </p>
            </div>

            <div class="three wide column">
              <button class="ui button">CAMPAIGN FINANCE</button>
              <p>
                Search for campaign contributions and expenditures of candidates for Mayor, 
                Controller and City Council.
              </p>
              <p>
                <a href="https://google.com" id="custom_link">
                  Search Campaign Finance →
                </a>
              </p>
            </div>

            <div class="three wide column">
              <button class="ui button">LOBBYISTS</button>
              <p>
                See those who are registered as lobbyists with the City of Pittsburgh.
              </p>
              <p>
                <a href="https://google.com" id="custom_link">
                  Find Lobbyists →
                </a>
              </p>
            </div>

            <div class="ui stackable grid container">
              <a href="{{ url_for('main.download_database') }}">
                <div class = "ui compact">
                  {{ f.begin_form(database_csv_form, flashes) }}
                  {{ f.render_form(database_csv_form) }}
                  {{ f.end_form(database_csv_form) }}
                </div>
              </a>
              <a href="{{ url_for('main.download_searches') }}">
                <div class = "ui compact">
                  {{ f.begin_form(searches_csv_form, flashes) }}
                  {{ f.render_form(searches_csv_form) }}
                  {{ f.end_form(searches_csv_form) }}
                </div>
              </a>
            </div>

            <!-- </div> -->
      </div>

{% endblock %}
